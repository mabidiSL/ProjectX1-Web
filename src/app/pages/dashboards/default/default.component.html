<!-- <app-loader></app-loader> -->
<div class="container-fluid">
    <!-- start page title -->
    <div class="row">
        <div class="col-12">
            <div class="page-title-box d-flex align-items-center justify-content-between">
                <h4 class="mb-0 font-size-18">{{ 'Dashboard' | translate }}</h4>
                <div class="page-title-right">
                    <ol class="breadcrumb m-0"></ol>
                </div>
            </div>
        </div>
    </div>
    <!-- end page title -->

    <div class="row">
        <div class="col-xl-4">
            <div class="card overflow-hidden">
                <div class="bg-primary-subtle">
                    <div class="row">
                        <div class="col-7">
                            <div class="text-primary p-3">
                                <h5 class="text-primary">{{ 'Welcome Back!' | translate }}</h5>
                                <p>{{ 'Infinite Dashboard' | translate }}</p>
                            </div>
                        </div>
                        <div class="col-5 align-self-end">
                            <img src="assets/images/profile-img.png" alt="" class="img-fluid">
                        </div>
                    </div>
                </div>
                <div class="card-body pt-0">
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="avatar-md profile-user-wid mb-4">
                                <img src="assets/images/users/avatar-1.jpg" alt="" class="img-thumbnail rounded-circle">
                            </div>
                            <h5 class="font-size-15 text-truncate">{{ 'Infinite' | translate }}</h5>
                            <p class="text-muted mb-0 text-truncate">{{ 'Admin\'s company' | translate }}</p>
                        </div>

                        <div class="col-sm-8">
                            <div class="pt-4">
                                <div class="row">
                                    <div class="col-6">
                                        <h5 class="font-size-15">125</h5>
                                        <p class="text-muted mb-0">{{ 'Coupons' | translate }}</p>
                                    </div>
                                    <div class="col-6">
                                        <h5 class="font-size-15">$1245</h5>
                                        <p class="text-muted mb-0">{{ 'Revenue' | translate }}</p>
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <a routerLink="/private/contacts/profile" class="btn btn-primary btn-sm">{{ 'View Profile' | translate }} <i class="mdi mdi-arrow-right ms-1"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title mb-4">{{ 'Monthly Earning' | translate }}</h4>
                    <div class="row">
                        <div class="col-sm-6">
                            <p class="text-muted">{{ 'This month' | translate }}</p>
                            <h3>$34,252</h3>
                            <p class="text-muted">
                                <span class="text-success me-2"> 12% <i class="mdi mdi-arrow-up"></i></span> {{ 'From previous period' | translate }}
                            </p>

                            <div class="mt-4">
                                <a href="" class="btn btn-primary btn-sm">{{ 'View More' | translate }} <i class="mdi mdi-arrow-right ms-1"></i></a>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <apx-chart dir="ltr" class="apex-charts" [series]="monthlyEarningChart.series" [chart]="monthlyEarningChart.chart" [legend]="monthlyEarningChart.legend" [colors]="monthlyEarningChart.colors" [labels]="monthlyEarningChart.labels" [stroke]="monthlyEarningChart.stroke" [plotOptions]="monthlyEarningChart.plotOptions">
                            </apx-chart>
                        </div>
                    </div>
                    <p class="text-muted mb-0">{{ 'We craft digital, graphic and dimensional thinking.' | translate }}</p>
                </div>
            </div>
        </div>
        <div class="col-xl-8">
            <div class="row">
                <div class="col-md-4" *ngFor="let stat of statData; track $index">
                    <app-stat [link]="stat.link" [title]="stat.title" [value]="stat.value" [icon]="stat.icon"></app-stat>
                </div>
            </div>
            <!-- end row -->

            <div class="card">
                <div class="card-body">
                    <div class="d-sm-flex flex-wrap">
                        <h4 class="card-title mb-4">{{ 'Coupons Sales' | translate }}</h4>
                        <div class="ms-auto">
                            <ul class="nav nav-pills">
                                <li class="nav-item">
                                    <a class="nav-link" href="javascript: void(0);" [ngClass]="{'active': isActive === 'week'}" (click)="weeklyreport()">{{ 'Week' | translate }}</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="javascript: void(0);" (click)="monthlyreport()" [ngClass]="{'active': isActive === 'month'}">{{ 'Month' | translate }}</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="javascript: void(0);" (click)="yearlyreport()" [ngClass]="{'active': isActive === 'year'}">{{ 'Year' | translate }}</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <apx-chart dir="ltr" class="apex-charts" [chart]="emailSentBarChart.chart" [series]="emailSentBarChart.series" [legend]="emailSentBarChart.legend" [colors]="emailSentBarChart.colors" [fill]="emailSentBarChart.fill" [dataLabels]="emailSentBarChart.dataLabels" [xaxis]="emailSentBarChart.xaxis" [plotOptions]="emailSentBarChart.plotOptions">
                    </apx-chart>
                </div>
            </div>
        </div>
    </div>
    <!-- end row -->

    <div class="row">
        <div class="col-xl-4">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title mb-4">{{ 'Customer\'s Rating' | translate }}</h4>
                    <div>
                        <apx-chart class="apex-charts" dir="ltr" 
                        [series]="CustomerRatingChart.series" 
                        [chart]="CustomerRatingChart.chart" 
                        [colors]="CustomerRatingChart.colors" 
                        [plotOptions]="CustomerRatingChart.plotOptions" 
                        [legend]="CustomerRatingChart.legend" 
                        [responsive]="CustomerRatingChart.responsive" 
                        [labels]="CustomerRatingChart.labels">
                        </apx-chart>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-4">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title mb-4">{{ 'Number of customers purchased from visitors' | translate }}</h4>
                    <div>
                        <apx-chart class="apex-charts" dir="ltr" 
                        [series]="CustomerRatingChart.series" 
                        [chart]="CustomerRatingChart.chart" 
                        [colors]="CustomerRatingChart.colors" 
                        [plotOptions]="CustomerRatingChart.plotOptions" 
                        [legend]="CustomerRatingChart.legend" 
                        [responsive]="CustomerRatingChart.responsive" 
                        [labels]="CustomerRatingChart.labels">
                        </apx-chart>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-4">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title mb-4">{{ 'More payment methods' | translate }}</h4>
                    <div>
                        <apx-chart class="apex-charts" dir="ltr" 
                        [series]="MostPaymentMethodChart.series" 
                        [chart]="MostPaymentMethodChart.chart" 
                        [colors]="MostPaymentMethodChart.colors" 
                        [plotOptions]="MostPaymentMethodChart.plotOptions" 
                        [legend]="MostPaymentMethodChart.legend" 
                        [responsive]="MostPaymentMethodChart.responsive" 
                        [labels]="MostPaymentMethodChart.labels">
                        </apx-chart>
                    </div>
                </div>
            </div>
        </div>
    </div>

   
    <div *ngIf="currentRole === 'Admin'" class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title mb-4">{{'Latest Merchant Transactions' | translate}}</h4>
                    <app-transaction [transactions]="transactions"></app-transaction>
                    <!-- end table -->
                </div>
            </div>
        </div>
    </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title mb-4">{{'Latest Customer Transactions' | translate}}</h4>
                        <app-transaction [transactions]="transactions"></app-transaction>
                        <!-- end table -->
                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- end row -->
