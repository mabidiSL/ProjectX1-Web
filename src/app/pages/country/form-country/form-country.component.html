<div class="row">
    <div class="col-19">
        <div class="card">
            <div class="card-body ">
                <form #formElement [formGroup]="countryForm"  >
                    <div *ngIf="formError" class="alert alert-danger">{{ formError |translate }}</div>               
                 <div class="row">
                    <div class="col-md-6 mb-3">
                        <div class="form-group ">
                           <label for="name" >{{'Country_Name' | translate}} <span *ngIf="type !== 'view'" class="text-danger">*</span></label>
                            <input type="text" id="name" class="form-control" formControlName="name" [readonly]="type==='view'" >
                            <div *ngIf="countryForm.get('name').touched && countryForm.get('name').invalid" class="invalid-feedback d-block">
                                <span *ngIf="countryForm.get('name').errors?.['required']">{{'Country Name is required'| translate}}.</span>
                            </div>
                          </div> 
                      </div>
                      <div class="col-md-6 mb-3">
                        <div class="form-group ">
                           <label for="name_ar" >{{'Country_Name_Trans' | translate}}<span *ngIf="type !== 'view'" class="text-danger">*</span> </label>
                            <input type="text" id="name_ar" class="form-control" formControlName="name_ar" [readonly]="type==='view'" >
                            <div *ngIf="countryForm.get('name_ar').touched && countryForm.get('name_ar').invalid" class="invalid-feedback d-block">
                                <span *ngIf="countryForm.get('name_ar').errors?.['required']">{{'Arabic Country Name is required'| translate}}.</span>
                            </div>
                          </div> 
                      </div>
                 <div class="col-md-6 mb-3">
                        <div class="form-group">
                          <label for="phoneCode" >{{'Phone_Code' | translate}}<span *ngIf="type !== 'view'" class="text-danger">*</span></label>
                          <input type="text" id="phoneCode" class="form-control" formControlName="phoneCode" [readonly]="type==='view'" >
                          <div *ngIf="countryForm.get('phoneCode').touched && countryForm.get('phoneCode').invalid" class="invalid-feedback d-block">
                            <span *ngIf="countryForm.get('phoneCode').errors?.['required']">{{'Country code is required'| translate}}.</span>
                        </div>                        
                    </div>
                </div>
                  <div class="col-md-6 mb-3">
                    <div class="form-group ">
                       <label for="flag" >{{'Country_flag' | translate}}<span *ngIf="type !== 'view'" class="text-danger">*</span> </label>
                       <div class="text-center">
                        <div class="position-relative d-inline-block">
                            <div class="position-absolute bottom-0 end-0">
                                <label for="project-image-input" class="mb-0" data-bs-toggle="tooltip" data-bs-placement="right" title="Select Flag">
                                    <div class="avatar-xs">
                                        <div class="avatar-title bg-light border rounded-circle text-muted cursor-pointer shadow font-size-16">
                                            <i class='bx bxs-image-alt'></i>
                                        </div>
                                    </div>
                                </label>
                                <input [disabled]="type==='view'" class="form-control d-none" value="" id="project-image-input" type="file" accept="image/png, image/gif, image/jpeg" (change)="uploadCountryFlag($event)">
                            </div>
                            <div class="avatar-lg">
                                <div class="avatar-title bg-light rounded-circle">
                                    <img [src]="flag" alt="{{'Country_flag' |translate}} " id="projectlogo-img"  class="avatar-md h-auto rounded-circle" />
                                </div>
                            </div>
                        </div>
                        </div>
                        <div *ngIf="countryForm.get('flag').touched && countryForm.get('flag').invalid" class="invalid-feedback d-block">
                            <span *ngIf="countryForm.get('flag').errors?.['required']">{{'Flag is required'| translate}}.</span>
                        </div>   
                    </div>
                   
                  </div>
                 
              
              </div>
                <div class="col-12  mt-4">
                    <div class="d-flex justify-content-end">
                        <ng-container *ngIf="type ==='view'; else editModeButtons">
                            <button type="button" class="btn btn-success" (click)="toggleViewMode()">{{ 'Go_Back' | translate }}</button>
                          </ng-container>
                        <ng-template #editModeButtons>
                            <button type="button" id="cancel-btn" class="btn btn-outline-secondary me-2" (click)="onCancel()">{{'Cancel'|translate}}</button>
                            <button type="submit" class="btn btn-success" (click)="onSubmit()"> {{ (type === 'create' ? 'Add_country' : 'update_country') | translate }}
                            </button>
                            <div id="elmLoader" class="loader" *ngIf="loading$ | async">
                                <div class="spinner-border text-primary avatar-sm" role="status">
                                <span class="visually-hidden">{{'Loading...' | translate}}</span>
                                </div>
                            </div> 
                        </ng-template>   
                    </div>
                </div>
              </form>
            </div>
        </div>
    </div> <!-- end col -->
  </div>
  